# Authentication Flow

## Процесс верификации

### 1. Новый пользователь
- Открывает бота в Telegram → автоматически перенаправляется на `register.html`
- Выбирает роль (клиент/тренер)
- Отправляет заявку
- Видит сообщение "Заявка на рассмотрении"

### 2. Ожидание одобрения
- При попытке зайти на `index.html` видит статус "Заявка на рассмотрении"
- Может обновить статус кнопкой "Проверить статус"
- Не может получить доступ к `client.html` или `trainer.html`

### 3. После одобрения администратором
- На `index.html` видит выбор роли
- Выбирает "Я Клиент" → переходит на `client.html`
- Выбирает "Я Тренер" → переходит на `trainer.html`

### 4. Защита страниц
- `client.html` - доступ только для одобренных клиентов
- `trainer.html` - доступ только для одобренных тренеров
- При несоответствии роли → редирект на `index.html`

## Функция проверки: checkUserRegistration()

Возвращает объект со статусом:
```javascript
{
  registered: boolean,
  approved: boolean,
  role: 'client' | 'trainer',
  status: 'pending' | 'approved' | 'rejected',
  userId: string
}
```

## Логика редиректов

- Не зарегистрирован → `register.html`
- Зарегистрирован, но не одобрен → `index.html` (показывает статус ожидания)
- Одобрен как клиент → доступ к `client.html`
- Одобрен как тренер → доступ к `trainer.html`