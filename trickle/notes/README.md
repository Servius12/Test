# Фитнес Тренер - Приложение

Веб-приложение для управления фитнес тренировками с двумя ролями: клиент и тренер.
Оптимизировано для Telegram mini app.

## Регистрация и доступ

Приложение использует систему регистрации с одобрением администратора:
- Новые пользователи подают заявку через Telegram бота
- Администратор получает уведомления о новых заявках
- Администратор одобряет заявки и назначает роли через панель `admin.html`
- После одобрения пользователь получает доступ к функциям

### Доступ к админ-панели:
- Прямая ссылка: `admin.html`
- Кнопка "Админ" в навигационном меню
- Уведомления о новых заявках с бейджем количества

## Функциональность

### Для клиентов:
- Просмотр программы тренировок с расписанием по дням
- Просмотр видео упражнений и техники выполнения
- Запись веса, подходов и повторений для каждого упражнения
- Навигация между упражнениями (кнопка "Следующее")
- Отслеживание прогресса через историю измерений
- Заполнение подробной анкеты (здоровье, цели, образ жизни)
- Отправка обратной связи по тренировкам

### Для тренеров:
- Просмотр списка клиентов
- Просмотр полных анкет клиентов с историей измерений
- Библиотека упражнений с видео и фильтрацией по группам мышц
- Создание программ на несколько недель и дней
- Выбор упражнений из готового списка
- Добавление комментариев и рекомендаций клиентам

## Структура проекта

- `register.html` - страница регистрации для новых пользователей
- `admin.html` - панель администратора для одобрения заявок
- `index.html` - главная страница с выбором роли
- `client.html` - интерфейс клиента (тренировки, измерения, профиль)
- `trainer.html` - панель тренера (клиенты, упражнения)
- `components/` - React компоненты
- `trickle/` - ресурсы, заметки и правила
- `telegram-bot-menu.json` - конфигурация меню Telegram бота

## База данных

Использует **Supabase Database** со следующими таблицами:
- `user_registration` - заявки на регистрацию с одобрением
- `client_profile` - подробные анкеты клиентов
- `measurement:{clientId}` - история измерений клиента
- `exercise_library` - библиотека упражнений с видео
- `workout_program` - программы тренировок с расписанием
- `program_template` - шаблоны программ для повторного использования
- `completed_program` - завершенные программы клиентов
- `exercise_log` - логи выполнения упражнений
- `workout_feedback` - обратная связь
- `comment:{clientId}` - комментарии тренера для клиента
- `trainer_notification` - уведомления для тренера

## Система уведомлений

Тренер получает уведомления о:
- Завершенных тренировках клиентов
- Новых измерениях
- Отзывах о тренировках

Для настройки Telegram уведомлений см. `trickle/notes/telegram-bot-notifications.md`

## Аутентификация

Приложение использует Supabase для аутентификации:
- Регистрация через email и пароль
- Вход в систему
- Восстановление пароля через email
- Безопасное хранение паролей

### Настройка
См. `SUPABASE_SETUP.md` для полной инструкции по настройке

### Страницы аутентификации
- `register.html` - Регистрация новых пользователей
- `login.html` - Вход в систему
- `reset-password.html` - Восстановление пароля
- `admin.html` - Административная панель

## Развертывание

### Supabase Database
- Создайте проект на [supabase.com](https://supabase.com)
- Выполните SQL скрипт из `SUPABASE_DATABASE_SETUP.md`
- Настройте переменные в `utils/supabase.js`

### Netlify Hosting
- Загрузите код на GitHub
- Подключите репозиторий к [netlify.com](https://netlify.com)
- Автоматическое развертывание при каждом push

См. полную инструкцию в `SUPABASE_DATABASE_SETUP.md`

## Дата создания
Ноябрь 2025
